"use strict";(self.webpackChunkgb_studio_docs=self.webpackChunkgb_studio_docs||[]).push([[7604],{3905:(e,t,l)=>{l.d(t,{Zo:()=>u,kt:()=>d});var a=l(7294);function n(e,t,l){return t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}function r(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,a)}return l}function i(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?r(Object(l),!0).forEach((function(t){n(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):r(Object(l)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}function s(e,t){if(null==e)return{};var l,a,n=function(e,t){if(null==e)return{};var l,a,n={},r=Object.keys(e);for(a=0;a<r.length;a++)l=r[a],t.indexOf(l)>=0||(n[l]=e[l]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)l=r[a],t.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(e,l)&&(n[l]=e[l])}return n}var c=a.createContext({}),o=function(e){var t=a.useContext(c),l=t;return e&&(l="function"==typeof e?e(t):i(i({},t),e)),l},u=function(e){var t=o(e.components);return a.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var l=e.components,n=e.mdxType,r=e.originalType,c=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),m=o(l),d=n,f=m["".concat(c,".").concat(d)]||m[d]||p[d]||r;return l?a.createElement(f,i(i({ref:t},u),{},{components:l})):a.createElement(f,i({ref:t},u))}));function d(e,t){var l=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=l.length,i=new Array(r);i[0]=m;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:n,i[1]=s;for(var o=2;o<r;o++)i[o]=l[o];return a.createElement.apply(null,i)}return a.createElement.apply(null,l)}m.displayName="MDXCreateElement"},237:(e,t,l)=>{l.d(t,{Z:()=>H});var a=l(7294),n=l(6010);const r="wrapper_Ipv2",i="header_uY2Y",s="collapsableHeader_Wady",c="form_gV8o",o="field_znmN",u="group_Pakl",p="fieldHalf_mvGz",m="fieldInput_DJtc",d="flexGrow_dGNp",f="select_piNM",y="selectActor_gmv1",h="input_Tp_3",g="textarea_tAAu",v="code_VhHR",b="checkbox_kfbl",E="toggleButtons_NXwh",k="toggleButtonsRow__YdE",N="toggleButtonsOption_LK3C",w="toggleButtonsOptionSelected_L_DP",x="conditional_NY1W",S="conditionalLabel_bY4O",T="eventsWrapper_kJsX",_="button_yKMz",C="buttonSmall_hjQK",P="eventButton_WDUY",O="unionSelect_Jb_2",M="tabs_nij8",V="tab_tomX",B="tabSelected_B_9X",Z="break_GXKR",j="unknown_nmto",A="paletteSwatch_SD8s";function D(){return a.createElement("div",{className:O},a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},a.createElement("ellipse",{ry:"10",id:"svg_1",cy:"12",cx:"12",strokeWidth:"3",stroke:"#ccc",fill:"transparent"}),a.createElement("circle",{cx:"12",cy:"12",r:"2"})))}function I(e){let{children:t}=e;return a.createElement("div",{className:h,children:t})}function L(e){let{children:t}=e;return a.createElement("div",{className:g,children:t})}function z(e){let{children:t}=e;return a.createElement("div",{className:(0,n.Z)(g,v),children:t})}function R(e){let{children:t}=e;return a.createElement("div",{className:f},t,a.createElement("div",{className:d}),a.createElement("svg",{height:"20",width:"20",viewBox:"0 0 20 20",ariaHidden:"true",focusable:"false"},a.createElement("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"})))}function G(){return a.createElement("div",{className:A},a.createElement("div",{style:{backgroundColor:"rgb(232, 248, 224)"}}),a.createElement("div",{style:{backgroundColor:"rgb(176, 240, 136)"}}),a.createElement("div",{style:{backgroundColor:"rgb(80, 152, 120)"}}),a.createElement("div",{style:{backgroundColor:"rgb(32, 40, 80)"}}))}function q(e){let{options:t,moreOptions:l,value:r}=e;return a.createElement("div",{className:E},a.createElement("div",{className:k},t.map((e=>a.createElement("div",{className:(0,n.Z)(N,{[w]:Array.isArray(r)?r.includes(e.value):r===e.value})},e.label)))),l&&a.createElement("div",{className:k},l.map((e=>a.createElement("div",{className:(0,n.Z)(N,{[w]:Array.isArray(r)?r.includes(e.value):r===e.value})},e.label)))))}const X=e=>{let{angle:t}=e;return a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",style:{transform:"rotate("+t+"deg)"}},a.createElement("path",{d:"M24 22h-24l12-20z"}))};function W(e){let{field:t}=e;return"actor"===t.type?a.createElement(R,null,a.createElement("img",{className:y,src:"/img/script-glossary/actor.png"}),"player"===t.defaultValue?"Player":"Actor 1"):"emote"===t.type?a.createElement(R,null,a.createElement("img",{className:y,src:"/img/script-glossary/emote.png"}),"Love"):"avatar"===t.type?a.createElement(R,null,a.createElement("img",{className:y,src:"/img/script-glossary/actor.png"}),"Avatar 1"):"scene"===t.type?a.createElement(R,null,"Scene 1"):"animationstate"===t.type?a.createElement(R,null,"Default"):"overlayColor"===t.type?a.createElement(R,null,"Black"):"cameraSpeed"===t.type?a.createElement(R,null,"Speed 1"):"moveSpeed"===t.type?a.createElement(R,null,"Speed 2"):"animSpeed"===t.type?a.createElement(R,null,"Speed 4"):"fadeSpeed"===t.type?a.createElement(R,null,"Speed 1"):"customEvent"===t.type?a.createElement(R,null,"My Custom Script"):"engineField"===t.type?a.createElement(R,null,"Jump Velocity"):"music"===t.type||"music"===t.type?a.createElement(R,null,"My Track 1"):"soundEffect"===t.type?a.createElement(R,null,"Beep"):"number"===t.type||"text"===t.type||"matharea"===t.type?a.createElement(I,null,t.placeholder||t.defaultValue):"textarea"===t.type?a.createElement(L,null,t.placeholder||t.defaultValue):"code"===t.type?a.createElement(z,null,t.placeholder||t.defaultValue):"references"===t.type?a.createElement("div",{className:(0,n.Z)(_,C)},"Add Reference"):"moveType"===t.type?a.createElement("div",{className:_},a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},a.createElement("path",{d:"M6 11v-4l-6 5 6 5v-4h12v4l6-5-6-5v4z"}))):"priority"===t.type?a.createElement("div",{className:_},a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},a.createElement("path",{d:"M 8.17 6.493 C 8.09 5.692 8.72 5 9.521 5 C 10.322 5 10.952 5.692 10.872 6.493 L 10.071 14.503 C 10.042 14.785 9.805 15 9.521 15 C 9.237 15 9 14.785 8.971 14.502 L 8.17 6.493 Z M 9.521 19.25 C 8.831 19.25 8.271 18.69 8.271 18 C 8.271 17.31 8.831 16.75 9.521 16.75 C 10.211 16.75 10.771 17.31 10.771 18 C 10.771 18.69 10.211 19.25 9.521 19.25 Z"}),a.createElement("path",{d:"M 13.128 6.493 C 13.048 5.692 13.678 5 14.479 5 C 15.28 5 15.91 5.692 15.83 6.493 L 15.029 14.503 C 15 14.785 14.763 15 14.479 15 C 14.195 15 13.958 14.785 13.929 14.502 L 13.128 6.493 Z M 14.479 19.25 C 13.789 19.25 13.229 18.69 13.229 18 C 13.229 17.31 13.789 16.75 14.479 16.75 C 15.169 16.75 15.729 17.31 15.729 18 C 15.729 18.69 15.169 19.25 14.479 19.25 Z"}))):"operator"===t.type||"mathOperator"===t.type?a.createElement(R,null,t.defaultValue):"direction"===t.type?a.createElement(q,{options:[{label:a.createElement(X,{angle:-90}),value:"left"},{label:a.createElement(X,{angle:0}),value:"up"},{label:a.createElement(X,{angle:180}),value:"down"},{label:a.createElement(X,{angle:90}),value:"right"}]}):"input"===t.type?a.createElement(q,{options:[{label:a.createElement(X,{angle:-90}),value:"left"},{label:a.createElement(X,{angle:0}),value:"up"},{label:a.createElement(X,{angle:180}),value:"down"},{label:a.createElement(X,{angle:90}),value:"right"}],moreOptions:[{label:"A",value:"a"},{label:"B",value:"b"},{label:"Start",value:"start"},{label:"Select",value:"select"}]}):"select"===t.type?a.createElement(R,null,(t.options.find((e=>e[0]===t.defaultValue))||t.options[0])[1]):"sprite"===t.type?a.createElement(R,null,a.createElement("img",{className:y,src:"/img/script-glossary/actor.png"}),a.createElement("div",{className:d},"cat")):"variable"===t.type?a.createElement(R,null,"$Variable0"):"palette"===t.type?a.createElement(R,null,a.createElement(G,null),void 0!==t.paletteIndex?t.paletteIndex+": ":""," ","Palette ",t.paletteIndex):"collisionMask"===t.type?a.createElement(q,{value:t.defaultValue,options:[].concat(t.includePlayer?{label:"Player",value:"player",selected:"player"===t.defaultValue}:[],[{label:"1",value:"1",selected:"1"===t.defaultValue},{label:"2",value:"2",selected:"2"===t.defaultValue},{label:"3",value:"3",selected:"3"===t.defaultValue}])}):"selectbutton"===t.type?a.createElement(D,null):"togglebuttons"===t.type?a.createElement(q,{options:t.options.map((e=>({label:e[1],value:e[0]}))),value:t.defaultValue}):"tabs"===t.type?a.createElement("div",{className:M},Object.keys(t.values).map((e=>a.createElement("div",{key:e,className:(0,n.Z)(V,{[B]:e===t.defaultValue})},t.values[e])))):a.createElement("div",{className:j},"Unknown Type ",t.type)}function F(e){let{field:t,args:l}=e;if(t.type||t.label){if(t.conditions){if(!t.conditions.reduce(((e,t)=>{const a=null==l?void 0:l[t.key];return e&&(!t.eq||a===t.eq)&&(!t.ne||a!==t.ne)&&(!t.gt||Number(a)>Number(t.gt))&&(!t.gte||Number(a)>=Number(t.gte))&&(!t.lt||Number(a)>Number(t.lt))&&(!t.lte||Number(a)>=Number(t.lte))&&(!t.in||t.in.indexOf(a)>=0)}),!0))return null}if("group"===t.type)return a.createElement("div",{className:u},t.fields.map(((e,t)=>a.createElement(F,{key:t,field:e,args:l}))));if("checkbox"===t.type)return a.createElement("div",{className:(0,n.Z)(o,{[p]:"50%"===t.width}),style:{flexBasis:t.flexBasis,flexGrow:t.flexGrow,flexShrink:t.flexShrink}},a.createElement("div",{className:b},a.createElement("input",{type:"checkbox",checked:t.defaultValue})," ",t.label));if("collapsable"===t.type)return a.createElement("div",{className:(0,n.Z)(s)},t.label);if("events"===t.type)return a.createElement("div",{title:t.label,className:x},a.createElement("div",{className:S},t.label),a.createElement("div",{className:T},a.createElement("div",{class:"sc-JsfGe eFPlT","data-handler-id":"T48"},a.createElement("div",{class:"sc-eiQXzm cklbLv"},a.createElement("div",{className:(0,n.Z)(_,P)},a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},a.createElement("path",{d:"M24 9h-9v-9h-6v9h-9v6h9v9h6v-9h9z"})),"Add Event")))));if("union"===t.type){const e={...t,type:t.defaultType,union:!0,defaultValue:t.defaultValue[t.defaultType]};return a.createElement(F,{field:e,args:l})}return"break"===t.type?a.createElement("div",{className:Z}):a.createElement("div",{className:(0,n.Z)(o,{[p]:"50%"===t.width}),style:{flexBasis:t.flexBasis,flexGrow:t.flexGrow,flexShrink:t.flexShrink}},!t.hideLabel&&t.label,a.createElement("div",{className:m},t.type&&a.createElement(W,{field:t}),t.union&&a.createElement(D,null)))}}const Y=(e,t)=>{t||(t={});for(const l of e)l.key&&void 0!==l.defaultValue&&(t[l.key]=l.defaultValue),"group"===l.type&&Y(l.fields,t);return t};function H(e){let{title:t,fields:l}=e;const s=Y(l);return a.createElement("div",{className:(0,n.Z)(r)},a.createElement("div",{className:(0,n.Z)(i)},t),a.createElement("div",{className:(0,n.Z)(c)},l.map(((e,t)=>a.createElement(F,{key:t,field:e,args:s})))))}},6087:(e,t,l)=>{l.r(t),l.d(t,{assets:()=>o,contentTitle:()=>s,default:()=>m,frontMatter:()=>i,metadata:()=>c,toc:()=>u});var a=l(7462),n=(l(7294),l(3905)),r=l(237);const i={sidebar_position:2},s="Music & Sound Effects",c={unversionedId:"scripting/script-glossary/music-sound-effects",id:"scripting/script-glossary/music-sound-effects",title:"Music & Sound Effects",description:"Play Music Track",source:"@site/docs/scripting/script-glossary/music-sound-effects.md",sourceDirName:"scripting/script-glossary",slug:"/scripting/script-glossary/music-sound-effects",permalink:"/gb-studio-docs/docs/scripting/script-glossary/music-sound-effects",draft:!1,editUrl:"https://github.com/chrismaltby/gb-studio-docs/tree/main/docs/scripting/script-glossary/music-sound-effects.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Miscellaneous",permalink:"/gb-studio-docs/docs/scripting/script-glossary/miscellaneous"},next:{title:"Save Data",permalink:"/gb-studio-docs/docs/scripting/script-glossary/save-data"}},o={},u=[{value:"Play Music Track",id:"play-music-track",level:2},{value:"Play Sound Effect",id:"play-sound-effect",level:2},{value:"Set Music Routine",id:"set-music-routine",level:2},{value:"Stop Music",id:"stop-music",level:2}],p={toc:u};function m(e){let{components:t,...l}=e;return(0,n.kt)("wrapper",(0,a.Z)({},p,l,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"music--sound-effects"},"Music & Sound Effects"),(0,n.kt)("h2",{id:"play-music-track"},"Play Music Track"),(0,n.kt)("p",null,"Plays a music file. If you play a new song while another song is playing, the old song will stop automatically."),(0,n.kt)(r.Z,{title:"Play Music Track",fields:[{key:"musicId",label:"Song",description:"The song to play.",type:"music",defaultValue:"LAST_MUSIC"}],mdxType:"ScriptEventPreview"}),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Song"),": The song to play.  ")),(0,n.kt)("h2",{id:"play-sound-effect"},"Play Sound Effect"),(0,n.kt)("p",null,"Play a sound effect, choose from playing a .WAV, .VGM, or .SAV (fxhammer) file from ",(0,n.kt)("inlineCode",{parentName:"p"},"/assets/sounds")," or a preset sound effect."),(0,n.kt)(r.Z,{title:"Play Sound Effect",fields:[{key:"type",type:"soundEffect",label:"Sound Effect",description:"The sound effect to play. Can choose from files within `/assets/sounds` or from preset sounds like `Beep`, `Pitch` and `Tone`.",defaultValue:"beep",flexBasis:"60%"},{key:"priority",label:"Priority",description:"The priority of the effect, high, medium or low. If two sound effects are playing at the same time then higher priority sound effects will take precedence.",type:"priority",options:[["low","Low"],["medium","Medium"],["high","High"]],defaultValue:"medium",flexBasis:"15%"},{key:"pitch",type:"number",label:"Pitch",description:"The pitch of the sound effect (Beep effect only).",conditions:[{key:"type",eq:"beep"}],min:1,max:8,step:1,defaultValue:4},{key:"frequency",type:"number",label:"Frequency in hz",description:"The frequency of the sound effect in hz (Tone effect only).",conditions:[{key:"type",eq:"tone"}],min:0,max:2e4,step:1,defaultValue:200},{key:"duration",type:"number",label:"Duration",description:"The length of time to play the sound effect.",unitsField:"units",unitsDefault:"time",conditions:[{key:"type",in:["beep","crash","tone"]}],min:0,max:4.25,step:.01,defaultValue:.5},{key:"wait",type:"checkbox",label:"Wait until finished",description:"Set if script should pause until sound effect has finished playing.",conditions:[{key:"type",in:["beep","crash","tone"]}],defaultValue:!0,flexBasis:"100%"},{key:"effect",type:"number",label:"Effect Index",description:"The effect number to play (for fxhammer only).",min:0,max:60,defaultValue:0,conditions:[{key:"type",soundType:"fxhammer"}]}],mdxType:"ScriptEventPreview"}),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Sound Effect"),": The sound effect to play. Can choose from files within ",(0,n.kt)("inlineCode",{parentName:"li"},"/assets/sounds")," or from preset sounds like ",(0,n.kt)("inlineCode",{parentName:"li"},"Beep"),", ",(0,n.kt)("inlineCode",{parentName:"li"},"Pitch")," and ",(0,n.kt)("inlineCode",{parentName:"li"},"Tone"),".  "),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Priority"),": The priority of the effect, high, medium or low. If two sound effects are playing at the same time then higher priority sound effects will take precedence.  "),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Pitch"),": The pitch of the sound effect (Beep effect only).  "),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Frequency in hz"),": The frequency of the sound effect in hz (Tone effect only).  "),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Duration"),": The length of time to play the sound effect.  "),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Wait until finished"),": Set if script should pause until sound effect has finished playing.  "),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Effect Index"),": The effect number to play (for fxhammer only).  ")),(0,n.kt)("h2",{id:"set-music-routine"},"Set Music Routine"),(0,n.kt)("p",null,"Attach a script to one of the four music routines that can be triggered from a .uge file. In the music editor you are able to use the call routine effect in your songs to trigger these scripts in time to music."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"References"),(0,n.kt)("br",{parentName:"p"}),"\n",(0,n.kt)("a",{parentName:"p",href:"/docs/assets/music/music-huge#effects"},"/docs/assets/music/music-huge#effects"),"  "),(0,n.kt)(r.Z,{title:"Set Music Routine",fields:[{key:"routine",label:"Routine",description:"The music routine, either 0, 1, 2 or 3.",type:"number",defaultValue:0,min:0,max:3},{key:"__scriptTabs",type:"tabs",defaultValue:"trigger",values:{trigger:"On Call"}},{key:"true",label:"On Call",description:"The script to run when the routine is called.",type:"events",allowedContexts:["global","entity"],conditions:[{key:"__scriptTabs",in:[null,"trigger"]}]}],mdxType:"ScriptEventPreview"}),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Routine"),": The music routine, either 0, 1, 2 or 3.  "),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"On Call"),": The script to run when the routine is called.  ")),(0,n.kt)("h2",{id:"stop-music"},"Stop Music"),(0,n.kt)("p",null,"Stops any currently playing music."),(0,n.kt)(r.Z,{title:"Stop Music",fields:[{label:"Stops any music that was previously playing."}],mdxType:"ScriptEventPreview"}))}m.isMDXComponent=!0}}]);